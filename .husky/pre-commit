# Lint-staged - currently disabled due to ~950 pre-existing ESLint errors
# TODO: Re-enable once ESLint errors are fixed
# echo "Running lint-staged..."
# pnpm exec lint-staged || exit 1

echo "‚ö†Ô∏è  Lint-staged temporarily disabled due to ~950 pre-existing ESLint errors"
echo "   Run 'pnpm lint' manually to check for issues"

# Check if only documentation files are being committed (skip further checks for docs-only commits)
STAGED_FILES=$(git diff --cached --name-only)
NON_DOC_FILES=$(echo "$STAGED_FILES" | grep -v '\.md$' | grep -v '\.txt$' || true)

if [ -z "$NON_DOC_FILES" ]; then
  echo "üìù Only documentation files staged"
  echo "‚úÖ Pre-commit checks passed!"
  exit 0
fi

# TypeScript checks - currently disabled due to ~500 pre-existing errors
# TODO: Re-enable once TypeScript errors are fixed
# echo "Running Nuxt TypeScript checks..."
# cd nuxt && pnpm typecheck || exit 1
# cd ..

# echo "Running Payload TypeScript checks..."
# cd payload && pnpm typecheck || exit 1
# cd ..

echo "‚ö†Ô∏è  TypeScript checks temporarily disabled - run 'pnpm typecheck' manually"

echo "‚úÖ Pre-commit checks passed!"
echo ""
echo "üìã TODO: Fix ~950 ESLint errors and ~500 TypeScript errors to re-enable pre-commit checks"
