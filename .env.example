# Database
POSTGRES_DB=bounce_house_saas
POSTGRES_USER=bh_user
POSTGRES_PASSWORD=dev_password_change_in_prod

# Payload CMS
DATABASE_URI=postgresql://bh_user:dev_password_change_in_prod@postgres:5432/bounce_house_saas
# CRITICAL: PAYLOAD_SECRET must remain constant across restarts for auth persistence
# Generate with: openssl rand -base64 32
# Changing this will invalidate all existing user sessions
PAYLOAD_SECRET=your-secret-key-generate-with-openssl-rand-base64-32

# Nuxt
NUXT_PAYLOAD_API_URL=http://payload:3000
NUXT_PUBLIC_PAYLOAD_URL=http://localhost:3003

# --------------------------------------------
# Bunny CDN Storage (Optional - for media uploads)
# --------------------------------------------
# Enable Bunny CDN for media storage
# Set to 'true' to enable, 'false' to use local storage (default)
BUNNY_STORAGE_ENABLED=false

# Bunny Storage Zone name (get from Bunny dashboard)
# Example: my-storage-zone
BUNNY_STORAGE_ZONE=your-storage-zone

# Bunny Storage API key (AccessKey from Bunny dashboard)
# Get from: Storage > Your Zone > FTP & API Access > Password
BUNNY_API_KEY=your-api-key-here

# Bunny CDN URL (Pull Zone hostname)
# Format: https://your-zone.b-cdn.net
# Get from: Pull Zones > Your Pull Zone > Hostname
BUNNY_CDN_URL=https://your-zone.b-cdn.net

# Optional: Comma-separated list of collections to use Bunny storage
# Default: media
BUNNY_STORAGE_COLLECTIONS=media

# --------------------------------------------
# Bunny CDN Setup Instructions
# --------------------------------------------
# 1. Sign up at https://bunny.net
# 2. Create a Storage Zone (Storage > Add Storage Zone)
# 3. Create a Pull Zone connected to your Storage Zone
# 4. Copy the Storage Zone name to BUNNY_STORAGE_ZONE
# 5. Copy the API key/password to BUNNY_API_KEY
# 6. Copy the Pull Zone hostname to BUNNY_CDN_URL
# 7. Set BUNNY_STORAGE_ENABLED=true
#
# For detailed setup: See /payload/BUNNY_CDN_IMPLEMENTATION.md
# For API reference: See /payload/src/lib/BUNNY_STORAGE.md

# --------------------------------------------
# Stripe Integration (for Payment Processing)
# --------------------------------------------
# Get your keys from: https://dashboard.stripe.com/test/apikeys
# Test keys (do NOT use in production)
STRIPE_SECRET_KEY=sk_test_YOUR_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_test_51SZFOCARnP3WTvQh5s9ISSQJnmlrH1b1szpiyTOABnceGpHtR0kAyy6sUs06p1xTkYaSMdQImL8yaaMekxf5vgnz00rddbP3v1

# Webhook secret (get from Stripe Dashboard > Developers > Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Connect settings
STRIPE_CONNECT_CLIENT_ID=ca_your_connect_client_id
STRIPE_PLATFORM_ACCOUNT_ID=acct_your_platform_account_id

# --------------------------------------------
# Brevo Email Service (formerly Sendinblue)
# --------------------------------------------
# Brevo API Key for sending transactional emails
# Get your API key from: https://app.brevo.com/settings/keys/api
# Free tier: 300 emails/day
# Leave empty to disable email sending (emails will be logged instead)
BREVO_API_KEY=your-brevo-api-key

# Default sender email address
# Must be verified in your Brevo account
# Format: email@yourdomain.com
EMAIL_FROM_ADDRESS=noreply@bouncepro.com

# Default sender name (displayed to recipients)
# Format: Your Business Name
EMAIL_FROM_NAME=BouncePro

# Optional: Application URLs for email links
NEXT_PUBLIC_APP_URL=https://app.bouncepro.com

# --------------------------------------------
# rb-payload Booking API Configuration
# --------------------------------------------
# URL for the rb-payload booking API (production)
RB_PAYLOAD_URL=https://reusablebook-payload-production.up.railway.app
NUXT_PUBLIC_RB_PAYLOAD_URL=https://reusablebook-payload-production.up.railway.app

# API Key for rb-payload authentication (SUPER ADMIN KEY)
# Format: tk_xxxxx
# This key is used by BH-SaaS to provision new tenants in rb-payload
# Each new BH-SaaS tenant will get their own rb-payload tenant and API key
# IMPORTANT: This must be a super_admin API key in rb-payload
RB_PAYLOAD_API_KEY=tk_58v2xsw911d0dy5q8mrlum3r9hah05n0

# Automatic Tenant Provisioning:
# When a new tenant signs up in BH-SaaS, the system will:
# 1. Create a corresponding tenant in rb-payload with inventory-mode settings:
#    - availabilityMode: 'inventory' (date-range booking for bounce houses)
#    - unitAssignmentStrategy: 'condition' (assign best condition units first)
#    - customerSelectsStaff: 'hidden' (skip staff selection in booking widget)
#    - autoAssignStrategy: 'first-available' (auto-assign delivery staff)
# 2. Create an API key for the tenant in rb-payload
# 3. Store the rb-payload tenant ID and API key in BH-SaaS tenant record

# --------------------------------------------
# Real-time Notifications (WebSocket/SSE)
# --------------------------------------------
# Nuxt server URL for SSE broadcast from rb-payload
# Used by rb-payload to broadcast notifications to connected dashboard clients
# Docker: http://nuxt:3001
# Production: https://your-nuxt-domain.com
NUXT_SERVER_URL=http://nuxt:3001

# --------------------------------------------
# Google Maps API (for geocoding and route optimization)
# --------------------------------------------
# Get your API key from: https://console.cloud.google.com/apis/credentials
# Enable these APIs: Geocoding API, Directions API, Distance Matrix API
# Used for:
# - Address validation and geocoding
# - Delivery route optimization
# - Distance calculations
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
